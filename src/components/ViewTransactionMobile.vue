<template>
  <div class="q-pa-md q-gutter-sm">
    <q-dialog v-model="dialog" persistent position="bottom">
      <q-card style="width: 400px" class="my-card q-pb-sm">
        <q-linear-progress :value="100" color="primary" />
        <q-card-section class="row justify-center items-center q-pb-none">
          <div
            style="width:80%"
            class=" text-grey-9 text-h6 text-weight-bold text-center"
          >
            {{ transaction.date }}
          </div>
          <q-space />
          <q-btn
            icon="close"
            flat
            round
            dense
            v-close-popup
            @click="closeForm(false)"
          />
        </q-card-section>
        <q-card-section column>
          <q-list>
            <q-item
              class="accountItem  q-px-none  items-center justify-between"
            >
              <q-item-section avatar>
                <q-icon size="md" class="text-green-14 ">
                  <svg
                    viewBox="0 0 480 480"
                    width="480pt"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="m72 320c-35.785156 0-72 10.992188-72 32v96c0 21.007812 36.214844 32 72 32s72-10.992188 72-32v-96c0-21.007812-36.214844-32-72-32zm0 16c36.375 0 56 11.359375 56 16s-19.625 16-56 16-56-11.359375-56-16 19.625-16 56-16zm0 128c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0-32c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0-32c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0 0"
                    />
                    <path
                      d="m240 256c-35.785156 0-72 10.992188-72 32v160c0 21.007812 36.214844 32 72 32s72-10.992188 72-32v-160c0-21.007812-36.214844-32-72-32zm0 16c36.375 0 56 11.359375 56 16s-19.625 16-56 16-56-11.359375-56-16 19.625-16 56-16zm0 192c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0-32c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0-32c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0-32c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0-32c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0 0"
                    />
                    <path
                      d="m408 160c-35.785156 0-72 10.992188-72 32v256c0 21.007812 36.214844 32 72 32s72-10.992188 72-32v-256c0-21.007812-36.214844-32-72-32zm0 16c36.375 0 56 11.359375 56 16s-19.625 16-56 16-56-11.359375-56-16 19.625-16 56-16zm0 288c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0-32c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0-32c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0-32c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0-32c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0-32c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0-32c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0-32c-36.375 0-56-11.359375-56-16v-11.199219c17.574219 7.941407 36.726562 11.769531 56 11.199219 19.273438.570312 38.425781-3.257812 56-11.199219v11.199219c0 4.640625-19.625 16-56 16zm0 0"
                    />
                  </svg>
                </q-icon>
              </q-item-section>

              <q-item-section>
                <q-item-label
                  lines="1"
                  class="item-date text-no-wrap  text-weight-medium text-grey-8"
                  >Daily Gain</q-item-label
                >
              </q-item-section>

              <q-item-section side top class="items-center">
                <q-item-label
                  style="font-size: 1.2rem"
                  lines="1"
                  class=" text-green-14"
                  >+{{ transaction.dailyGain | currency }}
                  <q-icon size="1rem" class="text-green-14 ">
                    <svg viewBox="0 0 29 26" xmlns="http://www.w3.org/2000/svg">
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M24.8759 26H20.3977L15.8428 18.6857H8.91028V26H4.43213V18.6857H0V15.0286H4.43213V11.3714H0V7.7143H4.43213V1.52588e-05H8.91028L13.7105 7.7143H20.4331V1.52588e-05H24.8759V7.7143H29V11.3714H24.8759V15.0286H29V18.6857H24.8759V26ZM8.91028 15.0286H13.5653L11.2878 11.3714H8.91028V15.0286ZM20.4331 15.0286H18.2619L15.9862 11.3714H20.4331V15.0286ZM8.91028 7.55359L9.01036 7.7143H8.91028V7.55359Z"
                      />
                    </svg>
                  </q-icon>
                </q-item-label>
              </q-item-section>
            </q-item>

            <q-separator />
            <q-item
              class="accountItem  q-px-none  items-center justify-between"
            >
              <q-item-section avatar>
                <q-icon size="md" class="text-secondary ">
                  <svg
                    viewBox="0 0 481 481.39127"
                    width="481pt"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="m480.195312 281.390625h-16v-64c-.027343-22.078125-17.917968-39.972656-40-40h-22.695312l21.601562-37.429687c3.183594-5.515626 4.046876-12.074219 2.398438-18.226563-1.652344-6.152344-5.679688-11.394531-11.199219-14.574219l-180.183593-104c-11.484376-6.542968-26.089844-2.617187-32.746094 8.800782l-95.472656 165.429687h-65.703126c-22.082031.027344-39.972656 17.921875-40 40v224c.027344 22.082031 17.917969 39.972656 40 40h384c22.082032-.027344 39.972657-17.917969 40-40v-64h16zm-70.925781-149.4375-44.730469 77.4375h-144.65625l84.855469-147.015625 101.601563 58.65625c3.773437 2.246094 5.070312 7.085938 2.929687 10.921875zm-244.816406 77.4375 98.75-170.992187 27.679687 16-89.464843 154.992187zm50.832031-189.429687c2.210938-3.816407 7.089844-5.121094 10.910156-2.921876l23.144532 13.359376-103.359375 178.992187h-40.089844zm232.910156 421.429687c0 13.253906-10.746093 24-24 24h-384c-13.253906 0-24-10.746094-24-24v-224c0-13.253906 10.746094-24 24-24h56.464844l-9.265625 16h-39.199219v16h368v-16h-33.183593l9.246093-16h31.9375c13.253907 0 24 10.746094 24 24v64h-88c-22.082031.027344-39.972656 17.921875-40 40v16c.027344 22.082031 17.917969 39.972656 40 40h88zm16-80h-104c-13.253906 0-24-10.746094-24-24v-16c0-13.253906 10.746094-24 24-24h104zm0 0"
                    />
                    <path
                      d="m344.195312 329.390625c0 13.253906 10.746094 24 24 24 13.253907 0 24-10.746094 24-24s-10.746093-24-24-24c-13.253906 0-24 10.746094-24 24zm24-8c4.417969 0 8 3.582031 8 8s-3.582031 8-8 8c-4.417968 0-8-3.582031-8-8s3.582032-8 8-8zm0 0"
                    />
                  </svg>
                </q-icon>
              </q-item-section>

              <q-item-section>
                <q-item-label
                  lines="1"
                  class="item-date text-no-wrap  text-weight-medium text-grey-8"
                  >Daily Savings</q-item-label
                >
              </q-item-section>

              <q-item-section side top class="items-center">
                <q-item-label
                  style="font-size: 1.2rem"
                  lines="1"
                  class=" text-secondary"
                  >+{{ transaction.dailySavings | currency }}
                  <q-icon size="1rem" class="text-secondary ">
                    <svg viewBox="0 0 29 26" xmlns="http://www.w3.org/2000/svg">
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M24.8759 26H20.3977L15.8428 18.6857H8.91028V26H4.43213V18.6857H0V15.0286H4.43213V11.3714H0V7.7143H4.43213V1.52588e-05H8.91028L13.7105 7.7143H20.4331V1.52588e-05H24.8759V7.7143H29V11.3714H24.8759V15.0286H29V18.6857H24.8759V26ZM8.91028 15.0286H13.5653L11.2878 11.3714H8.91028V15.0286ZM20.4331 15.0286H18.2619L15.9862 11.3714H20.4331V15.0286ZM8.91028 7.55359L9.01036 7.7143H8.91028V7.55359Z"
                      />
                    </svg>
                  </q-icon>
                </q-item-label>
              </q-item-section>
            </q-item>

            <q-separator />
            <q-item
              class="accountItem  q-px-none  items-center justify-between"
            >
              <q-item-section avatar>
                <q-icon size="md" class="text-red ">
                  <svg
                    viewBox="0 0 480 480"
                    width="480pt"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="m454.785156 312.335938c-10.929687-19.023438-35.152344-25.679688-54.265625-14.902344l-94.480469 48.167968c-5.210937-6.003906-12.101562-10.304687-19.78125-12.355468l-98.90625-26.484375c-7.566406-2.042969-15.566406-1.800781-23 .6875l-33.953124 11.320312c-2.449219.8125-5.015626 1.230469-7.597657 1.230469h-26.800781v-32h-96v16h80v160h-80v16h96v-24h12.0625c1.960938 0 3.914062.242188 5.816406.71875l56.351563 14.082031c3.175781.796875 6.433593 1.199219 9.707031 1.199219h67.496094c7.019531.003906 13.917968-1.84375 20-5.351562l172.734375-99.71875c12.347656-7.160157 19.964843-20.335938 20-34.609376.007812-7.019531-1.851563-13.917968-5.382813-19.984374zm-22.625 40.734374-172.734375 99.730469c-3.652343 2.097657-7.789062 3.199219-12 3.199219h-67.488281c-1.960938 0-3.914062-.242188-5.816406-.71875l-56.351563-14.082031c-3.175781-.796875-6.433593-1.199219-9.707031-1.199219h-12.0625v-104h26.808594c4.300781 0 8.574218-.691406 12.65625-2.046875l33.949218-11.320313c4.457032-1.496093 9.257813-1.640624 13.792969-.417968l98.914063 26.496094c12.789062 3.488281 20.328125 16.683593 16.839844 29.472656-3.488282 12.789062-16.683594 20.328125-29.472657 16.839844l-75.601562-18.113282-3.726563 15.570313 75.382813 18.054687c14.164062 3.792969 29.265625-.46875 39.359375-11.101562 10.089844-10.632813 13.558594-25.9375 9.035156-39.882813l94.214844-48.054687c7.433594-4.25 16.5625-4.230469 23.976562.050781 7.414063 4.285156 11.996094 12.1875 12.023438 20.75-.015625 8.566406-4.582032 16.476563-11.992188 20.773437zm0 0"
                    />
                    <path
                      d="m304 128c-53.019531 0-96 42.980469-96 96s42.980469 96 96 96 96-42.980469 96-96c-.058594-52.996094-43.003906-95.941406-96-96zm0 176c-44.183594 0-80-35.816406-80-80s35.816406-80 80-80 80 35.816406 80 80c-.046875 44.164062-35.835938 79.953125-80 80zm0 0"
                    />
                    <path
                      d="m408 0c-39.765625 0-72 32.234375-72 72s32.234375 72 72 72 72-32.234375 72-72c-.042969-39.746094-32.253906-71.9570312-72-72zm0 128c-30.929688 0-56-25.070312-56-56s25.070312-56 56-56 56 25.070312 56 56c-.035156 30.914062-25.085938 55.964844-56 56zm0 0"
                    />
                    <path
                      d="m408 48c4.417969 0 8 3.582031 8 8h16c-.042969-10.132812-6.445312-19.148438-16-22.527344v-9.472656h-16v9.472656c-11.011719 3.878906-17.621094 15.132813-15.644531 26.640625 1.980469 11.507813 11.96875 19.910157 23.644531 19.886719 4.417969 0 8 3.582031 8 8s-3.582031 8-8 8-8-3.582031-8-8h-16c.042969 10.132812 6.445312 19.148438 16 22.527344v9.472656h16v-9.472656c11.011719-3.878906 17.621094-15.132813 15.644531-26.640625-1.980469-11.507813-11.96875-19.910157-23.644531-19.886719-4.417969 0-8-3.582031-8-8s3.582031-8 8-8zm0 0"
                    />
                    <path
                      d="m304 184c8.835938 0 16 7.164062 16 16h16c-.054688-14.546875-9.914062-27.226562-24-30.863281v-17.136719h-16v17.136719c-15.585938 4.011719-25.753906 18.992187-23.71875 34.957031 2.03125 15.96875 15.625 27.925781 31.71875 27.90625 8.835938 0 16 7.164062 16 16s-7.164062 16-16 16-16-7.164062-16-16h-16c.054688 14.546875 9.914062 27.226562 24 30.863281v17.136719h16v-17.136719c15.585938-4.011719 25.753906-18.992187 23.71875-34.957031-2.03125-15.96875-15.625-27.925781-31.71875-27.90625-8.835938 0-16-7.164062-16-16s7.164062-16 16-16zm0 0"
                    />
                  </svg>
                </q-icon>
              </q-item-section>

              <q-item-section>
                <q-item-label
                  lines="1"
                  class="item-date text-no-wrap  text-weight-medium text-grey-8"
                  >Daily Expenses</q-item-label
                >
              </q-item-section>

              <q-item-section side top class="items-center">
                <q-item-label
                  style="font-size: 1.2rem"
                  lines="1"
                  class=" text-red"
                  >-{{ transaction.dailyExpenses | currency }}
                  <q-icon size="1rem" class="text-red ">
                    <svg viewBox="0 0 29 26" xmlns="http://www.w3.org/2000/svg">
                      <path
                        fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M24.8759 26H20.3977L15.8428 18.6857H8.91028V26H4.43213V18.6857H0V15.0286H4.43213V11.3714H0V7.7143H4.43213V1.52588e-05H8.91028L13.7105 7.7143H20.4331V1.52588e-05H24.8759V7.7143H29V11.3714H24.8759V15.0286H29V18.6857H24.8759V26ZM8.91028 15.0286H13.5653L11.2878 11.3714H8.91028V15.0286ZM20.4331 15.0286H18.2619L15.9862 11.3714H20.4331V15.0286ZM8.91028 7.55359L9.01036 7.7143H8.91028V7.55359Z"
                      />
                    </svg>
                  </q-icon>
                </q-item-label>
              </q-item-section>
            </q-item>

            <q-separator />
          </q-list>
        </q-card-section>
        <q-card-section class="q-pt-xs">
          <span class="item-date text-grey-9 text-weight-medium q-px-sm"
            >Reciept</span
          >
          <div class="reciept-img">
            <q-img
              :src="url"
              spinner-color="white"
              class="img"
              @click="viewImg = true"
            />
          </div>
        </q-card-section>
      </q-card>
    </q-dialog>
    <!-- Show image in full screen -->
    <q-dialog v-model="viewImg" persistent full-width style="padding: 10px">
      <q-card class="viewCard overflow-hidden">
        <q-card-section class="row justify-center items-center q-pb-none">
          <div
            style="width:80%"
            class=" text-grey-9 text-h6 text-weight-bold text-center"
          >
            {{ transaction.date }}
          </div>
          <q-space />
          <q-btn icon="close" flat round dense v-close-popup />
        </q-card-section>

        <q-card-section class="viewCard--section-2 q-px-xs">
          <div class="col viewImg">
            <q-img
              :src="url"
              contain
              spinner-color="white"
              class="rounded-borders"
            />
          </div>
        </q-card-section>
      </q-card>
    </q-dialog>
  </div>
</template>
<script>
import { mapGetters, mapMutations } from "vuex";
export default {
  props: {
    transaction: Object
  },
  data() {
    return {
      viewImg: false,
      url: "https://picsum.photos/200",
      loading: false
    };
  },

  methods: {
    ...mapMutations({ closeForm: "toggleDialogTransaction" })
  },
  computed: {
    ...mapGetters({ dialog: "getDialogTransaction" })
  },
  filters: {
    currency(value) {
      return value.toLocaleString();
    }
  }
};
</script>
<style lang="scss" scoped>
.q-card {
  border-radius: 15px 15px 0 0;
}
.accountItem {
  padding: 12px 2px;

  @media (min-width: 600px) {
    padding: 12px 16px;
  }
}
.item-date {
  font-size: 1.2rem;
}

.reciept-img {
  margin: 0 auto;
  width: 100%;
  height: 150px;
  border: 3px solid $grey-4;
  border-radius: 7px;
  overflow: hidden;

  .img {
    width: 100%;
    height: 100%;
  }
}

.viewCard {
  width: 100%;
  max-width: 80vw;
  height: 90vh;
  border-radius: 7px;

  &--section-2 {
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
  }
}
.viewImg {
  width: 80%;
  height: 90%;

  .q-img {
    width: 100%;
    height: 100%;
  }
}
</style>
